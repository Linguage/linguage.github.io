<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上下文工程: AI交互新范式</title>
<!-- Injected: Open Graph / Twitter -->
<meta property="og:title" content="上下文工程: AI交互新范式">
<meta property="og:url" content="https://linguage.github.io/articles/context-engineering-next-generation-hci.html">
<meta property="og:image" content="https://linguage.github.io/img/Linguista_imresizer.png">
<meta property="og:type" content="article">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@linguista2025">
<meta name="twitter:creator" content="@linguista2025">
<meta name="twitter:title" content="上下文工程: AI交互新范式">
<meta name="twitter:image" content="https://linguage.github.io/img/Linguista_imresizer.png">
<link rel="canonical" href="https://linguage.github.io/articles/context-engineering-next-generation-hci.html">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application is designed as a thematic, single-page narrative to guide the user from foundational concepts to future implications. The structure is not a mirror of the report's chapters but a synthesized flow for better learning: 1) The Paradigm Shift (Why it matters), 2) Deconstructing Context (What it is), 3) The Engineer's Toolkit (How to do it), 4) Industry Playbook (Who is doing it), and 5) The Future (What's next). This thematic grouping, combined with a persistent top navigation, allows both linear storytelling and direct access to specific topics, maximizing usability and comprehension. -->
    <!-- Visualization & Content Choices: The application uses a mix of interactive elements to make the dense report digestible. Goal: Compare -> Interactive Chart (Prompt vs. Context Eng.). Goal: Organize -> Clickable card diagram (Context Components). Goal: Explain -> Tabbed interface (Engineer's Toolkit). Goal: Analyze -> Interactive radar chart (Industry Leaders). These choices break down complex information into visually engaging and user-driven snippets, promoting active exploration over passive reading. All visualizations are built with Chart.js on Canvas, adhering to the NO SVG/Mermaid constraint. The justification is to transform static tables and lists from the report into dynamic, memorable visualizations. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #F8F5F2;
            color: #434242;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link {
            transition: color 0.3s, border-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #5C8374;
            border-bottom-color: #5C8374;
        }
        .custom-card {
            background-color: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0,0,0,0.05);
            backdrop-filter: blur(5px);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .custom-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        .tab-button {
            transition: all 0.3s;
        }
        .tab-button.active {
            background-color: #5C8374;
            color: #F8F5F2;
        }
        .tab-button:not(.active) {
            background-color: rgba(255, 255, 255, 0.6);
        }
    </style>

<!-- Injected: GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-99PGBGJH4S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-99PGBGJH4S');
</script>
</head>
<body class="antialiased">

    <header id="header" class="bg-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-[#434242]">上下文工程</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#paradigm-shift" class="nav-link px-3 py-2 rounded-md text-sm font-medium">范式转移</a>
                        <a href="#deconstruct" class="nav-link px-3 py-2 rounded-md text-sm font-medium">解构上下文</a>
                        <a href="#toolkit" class="nav-link px-3 py-2 rounded-md text-sm font-medium">工程师工具箱</a>
                        <a href="#playbook" class="nav-link px-3 py-2 rounded-md text-sm font-medium">产业实践</a>
                        <a href="#future" class="nav-link px-3 py-2 rounded-md text-sm font-medium">未来展望</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <section id="hero" class="text-center py-16">
            <h2 class="text-4xl md:text-5xl font-bold tracking-tight text-[#434242] mb-4">从“提示词”到“上下文”</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600">
                Andrej Karpathy提出“上下文工程”是一个比“提示工程”更合适的概念。这标志着我们与AI交互的方式正在从雕琢“咒语”式的提示词，转向构建动态、丰富的“信息世界”。本应用将带您深入探索这一新兴领域。
            </p>
        </section>

        <section id="paradigm-shift" class="py-16 scroll-mt-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-[#434242]">范式转移：提示工程 vs. 上下文工程</h3>
                <p class="mt-4 max-w-2xl mx-auto text-gray-600">
                    “提示工程”关注于构造一个静态的文本字符串来引导模型，而“上下文工程”则是一门设计动态系统的学科，旨在为模型提供完成任务所需的完整信息环境。下面的图表直观地展示了二者在目标、范围和本质上的核心区别。
                </p>
            </div>
            <div class="chart-container">
                <canvas id="paradigmChart"></canvas>
            </div>
        </section>

        <section id="deconstruct" class="py-16 scroll-mt-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-[#434242]">解构上下文：LLM的“工作内存”</h3>
                <p class="mt-4 max-w-2xl mx-auto text-gray-600">
                    一个精心设计的上下文窗口，是多种信息组件的动态组合。点击下方的卡片，了解构成LLM“思维世界”的核心要素。理解这些组件是进行上下文工程的基础。
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div id="component-card-instructions" class="custom-card p-6 rounded-lg cursor-pointer">
                    <h4 class="font-bold text-lg text-[#5C8374]">📜 指令/系统提示</h4>
                    <p class="text-sm mt-2 text-gray-700">对模型行为的初始定义，包括角色、准则和任务说明。</p>
                </div>
                <div id="component-card-user_prompt" class="custom-card p-6 rounded-lg cursor-pointer">
                    <h4 class="font-bold text-lg text-[#5C8374]">👤 用户提示</h4>
                    <p class="text-sm mt-2 text-gray-700">用户提出的直接问题或任务指令。</p>
                </div>
                <div id="component-card-history" class="custom-card p-6 rounded-lg cursor-pointer">
                    <h4 class="font-bold text-lg text-[#5C8374]">💾 状态/历史记录</h4>
                    <p class="text-sm mt-2 text-gray-700">短期对话历史和长期用户偏好记忆。</p>
                </div>
                <div id="component-card-rag" class="custom-card p-6 rounded-lg cursor-pointer">
                    <h4 class="font-bold text-lg text-[#5C8374]">📚 检索到的知识 (RAG)</h4>
                    <p class="text-sm mt-2 text-gray-700">从外部数据源检索的、用于锚定事实的最新信息。</p>
                </div>
                <div id="component-card-tools" class="custom-card p-6 rounded-lg cursor-pointer">
                    <h4 class="font-bold text-lg text-[#5C8374]">🛠️ 可用的工具</h4>
                    <p class="text-sm mt-2 text-gray-700">模型可调用的外部函数或API的结构化描述。</p>
                </div>
                <div id="component-card-structured_output" class="custom-card p-6 rounded-lg cursor-pointer">
                    <h4 class="font-bold text-lg text-[#5C8374]">📦 结构化输出</h4>
                    <p class="text-sm mt-2 text-gray-700">对模型响应格式的强制要求，如输出JSON。</p>
                </div>
            </div>
            <div id="component-details" class="mt-8 p-6 bg-white/70 rounded-lg min-h-[100px] text-center text-gray-700 flex items-center justify-center">
                <p>点击上方卡片查看详细说明。</p>
            </div>
        </section>

        <section id="toolkit" class="py-16 scroll-mt-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-[#434242]">工程师的工具箱</h3>
                <p class="mt-4 max-w-2xl mx-auto text-gray-600">
                    上下文工程师使用一系列核心策略来构建和管理信息流。这些技术共同构成了这门新兴学科的实践基础。通过下方的选项卡了解这些关键技术。
                </p>
            </div>
            <div class="w-full max-w-4xl mx-auto">
                <div class="mb-4 flex justify-center border-b border-gray-200">
                    <button data-tab="rag" class="toolkit-tab tab-button py-2 px-4 font-medium text-gray-600 active">RAG</button>
                    <button data-tab="tools" class="toolkit-tab tab-button py-2 px-4 font-medium text-gray-600">工具使用</button>
                    <button data-tab="management" class="toolkit-tab tab-button py-2 px-4 font-medium text-gray-600">信息流管理</button>
                </div>
                <div id="toolkit-content" class="p-4 bg-white/50 rounded-lg">
                    <!-- Content will be injected by JS -->
                </div>
            </div>
        </section>

        <section id="playbook" class="py-16 scroll-mt-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-[#434242]">产业实践：三巨头的不同路径</h3>
                <p class="mt-4 max-w-2xl mx-auto text-gray-600">
                    Google、OpenAI和Anthropic三大AI巨头正沿着不同的技术路径探索上下文工程。他们的策略分别在原始规模、工具集成和检索质量上构筑了核心竞争力。下面的雷达图展示了他们的战略侧重。
                </p>
            </div>
            <div class="chart-container">
                <canvas id="playbookChart"></canvas>
            </div>
            <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="custom-card p-6 rounded-lg">
                    <h4 class="font-bold text-xl text-[#5C8374]">Google</h4>
                    <p class="mt-2 text-gray-700"><strong>核心理念:</strong> 规模与综合。<br>通过巨大的上下文窗口（高达200万令牌）实现对海量信息的单次深度分析。</p>
                </div>
                <div class="custom-card p-6 rounded-lg">
                    <h4 class="font-bold text-xl text-[#5C8374]">OpenAI</h4>
                    <p class="mt-2 text-gray-700"><strong>核心理念:</strong> 行动生态。<br>通过强大的函数调用能力和集成的RAG工具，构建具有行动能力的智能体。</p>
                </div>
                <div class="custom-card p-6 rounded-lg">
                    <h4 class="font-bold text-xl text-[#5C8374]">Anthropic</h4>
                    <p class="mt-2 text-gray-700"><strong>核心理念:</strong> 精确与控制。<br>通过XML标签和优化的“上下文检索”等技术，实现对模型行为的精细控制。</p>
                </div>
            </div>
        </section>

        <section id="future" class="py-16 scroll-mt-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-[#434242]">未来展望：新角色与新范式</h3>
                <p class="mt-4 max-w-2xl mx-auto text-gray-600">
                    随着AI技术的发展，“上下文工程师”作为一个混合型新角色正在崛起。它要求从业者具备系统架构、数据工程和AI心理学等多重能力，标志着一个新软件范式的浮现。
                </p>
            </div>
            <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="custom-card p-6 rounded-lg">
                    <h4 class="font-bold text-xl mb-4 text-[#5C8374]">上下文工程师画像</h4>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start"><span class="mr-2 mt-1">🔧</span><strong>数据与系统架构:</strong> 设计可扩展的数据流水线，掌握向量数据库。</li>
                        <li class="flex items-start"><span class="mr-2 mt-1">🤖</span><strong>AI/LLM集成:</strong> 实现RAG、设计工具调用、组装上下文。</li>
                        <li class="flex items-start"><span class="mr-2 mt-1">🧠</span><strong>领域知识转化:</strong> 将隐性业务知识转化为显性AI上下文。</li>
                        <li class="flex items-start"><span class="mr-2 mt-1">📈</span><strong>实验与优化:</strong> A/B测试上下文格式，在成本、延迟和准确性间权衡。</li>
                        <li class="flex items-start"><span class="mr-2 mt-1">🧐</span><strong>AI心理学与调试:</strong> 凭直觉判断上下文对AI行为的影响。</li>
                    </ul>
                </div>
                <div class="custom-card p-6 rounded-lg">
                    <h4 class="font-bold text-xl mb-4 text-[#5C8374]">结论：新软件范式的浮现</h4>
                    <p class="text-gray-700 leading-relaxed">
                        上下文工程是构建下一代软件的核心学科。这项工作远非创建简单的“ChatGPT包装器”，而是架构一个复杂的、动态的软件层，以精心编排流入和流出大语言模型的信息。
                        <br><br>
                        在未来，最有价值的AI技能将不再是掌握神秘的“魔法咒语”，而是理解如何架构能够“在正确的时间访问正确信息”的智能系统。如果说提示词告诉模型*如何思考*，那么上下文工程则赋予模型*完成工作所需的知识和工具*。
                    </p>
                </div>
            </div>
        </section>
    </main>

    <footer class="border-t border-gray-200">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 text-center text-gray-500 text-sm">
            <p>基于 Andrej Karpathy 等人的观点构建的交互式报告。</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const FONT_COLOR = '#434242';
            const BORDER_COLOR = 'rgba(67, 66, 66, 0.1)';

            const paradigmChartCtx = document.getElementById('paradigmChart').getContext('2d');
            new Chart(paradigmChartCtx, {
                type: 'bar',
                data: {
                    labels: ['主要目标', '核心活动', '范围', '本质'],
                    datasets: [
                        {
                            label: '提示工程',
                            data: [3, 2, 2, 1],
                            backgroundColor: 'rgba(158, 179, 132, 0.6)',
                            borderColor: 'rgba(158, 179, 132, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '上下文工程',
                            data: [8, 9, 8, 10],
                            backgroundColor: 'rgba(92, 131, 116, 0.6)',
                            borderColor: 'rgba(92, 131, 116, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: FONT_COLOR,
                                callback: function(value, index, values) {
                                    const labels = ['', '技巧', '手工', '引出响应', '', '', '', '', '系统', '设计', '学科', ''];
                                    return labels[value] || '';
                                }
                            },
                            grid: { color: BORDER_COLOR }
                        },
                        x: {
                            ticks: { color: FONT_COLOR, font: { size: 14 } },
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { labels: { color: FONT_COLOR } },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    const details = {
                                        '提示工程': ['从模型中引出特定的响应', '手工精心制作一个静态的文本字符串', '关注即时输入', '一种技巧或技能'],
                                        '上下文工程': ['构建一个由模型驱动的应用', '设计一个能动态组装上下文的系统', '关注整个信息环境', '一门软件架构或学科']
                                    };
                                    label += details[context.dataset.label][context.dataIndex];
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
            
            const componentDetailsData = {
                instructions: { title: '📜 指令/系统提示', text: '对模型行为的初始定义，通常包括角色设定（“你是一位专业的金融分析师”）、行为准则、任务说明以及少量示例（few-shot examples）。这曾是传统“提示”的核心领域，但现在只是整个上下文拼图中的一块。' },
                user_prompt: { title: '👤 用户提示', text: '用户提出的直接问题或任务指令。这是驱动整个交互流程的起点，上下文工程的目标就是围绕这个提示来构建最有效的信息环境。' },
                history: { title: '💾 状态/历史记录', text: '包括正在进行的对话历史（短期记忆），以及一个持久化的、记录了用户偏好和过去交互摘要的知识库（长期记忆）。这使得AI的响应更具个性化和连贯性。' },
                rag: { title: '📚 检索到的知识 (RAG)', text: '从外部文档、数据库或API中检索到的、最新的或专有的信息，用于将模型的回答“锚定”在事实上，是减少幻觉、增强可靠性的关键技术。' },
                tools: { title: '🛠️ 可用的工具', text: 'LLM可以调用的外部函数或API的结构化描述（Schema），例如 `search_database` 或 `send_email`。这赋予了模型“行动”的能力，使其能与外部世界交互。' },
                structured_output: { title: '📦 结构化输出', text: '对模型响应格式的定义或强制要求，例如要求输出一个严格符合规范的JSON对象。这对于将LLM集成到更广泛的软件系统中至关重要。' }
            };

            document.querySelectorAll('[id^="component-card-"]').forEach(card => {
                card.addEventListener('click', () => {
                    const componentKey = card.id.replace('component-card-', '');
                    const details = componentDetailsData[componentKey];
                    const detailsContainer = document.getElementById('component-details');
                    detailsContainer.innerHTML = `<h4 class="font-bold text-lg mb-2 text-[#5C8374]">${details.title}</h4><p class="text-gray-700 text-left">${details.text}</p>`;
                });
            });

            const toolkitTabs = document.querySelectorAll('.toolkit-tab');
            const toolkitContent = document.getElementById('toolkit-content');
            const toolkitData = {
                rag: `
                    <h4 class="font-bold text-lg mb-2 text-[#5C8374]">检索增强生成 (RAG)</h4>
                    <p class="text-gray-700">RAG是上下文工程的基石，它通过从外部知识源检索相关信息并注入上下文，将模型的输出“锚定”在事实之上，以解决知识过时和幻觉问题。现代RAG流水线包括数据分块、嵌入索引和检索重排等步骤。</p>
                `,
                tools: `
                    <h4 class="font-bold text-lg mb-2 text-[#5C8374]">工具使用 (Tool Use)</h4>
                    <p class="text-gray-700">通过函数调用，LLM从被动的文本生成器转变为能与外部世界交互的主动代理。开发者向模型提供工具清单，模型决策调用哪个工具，应用执行后将结果返回给模型，模型最终生成综合性回答。这赋予了模型“行动”的能力。</p>
                `,
                management: `
                    <h4 class="font-bold text-lg mb-2 text-[#5C8374]">信息流管理</h4>
                    <p class="text-gray-700">面对有限且昂贵的上下文窗口，高效管理信息流至关重要。核心策略包括：</p>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li><strong>写入:</strong> 将信息持久化到外部记忆中。</li>
                        <li><strong>选择:</strong> 从外部存储中动态选择最相关信息注入上下文。</li>
                        <li><strong>压缩:</strong> 通过摘要或修剪减少令牌数量。</li>
                        <li><strong>隔离:</strong> 结构化分区上下文以防干扰，如多智能体系统。</li>
                    </ul>
                    <p class="mt-2 text-sm text-gray-600">这些策略需要在<strong>效率</strong>（低成本、低延迟）和<strong>保真度</strong>（信息完整性）之间做出权衡。</p>
                `
            };
            
            function updateToolkitTab(tabId) {
                toolkitTabs.forEach(t => t.classList.remove('active'));
                document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
                toolkitContent.innerHTML = toolkitData[tabId];
            }

            toolkitTabs.forEach(tab => {
                tab.addEventListener('click', () => updateToolkitTab(tab.dataset.tab));
            });
            updateToolkitTab('rag');


            const playbookChartCtx = document.getElementById('playbookChart').getContext('2d');
            new Chart(playbookChartCtx, {
                type: 'radar',
                data: {
                    labels: ['上下文规模', '工具集成', '精细化控制', '检索质量', '生态系统'],
                    datasets: [
                        {
                            label: 'Google',
                            data: [10, 6, 7, 8, 7],
                            fill: true,
                            backgroundColor: 'rgba(92, 131, 116, 0.2)',
                            borderColor: 'rgba(92, 131, 116, 1)',
                            pointBackgroundColor: 'rgba(92, 131, 116, 1)',
                        },
                        {
                            label: 'OpenAI',
                            data: [7, 10, 8, 8, 10],
                            fill: true,
                            backgroundColor: 'rgba(158, 179, 132, 0.2)',
                            borderColor: 'rgba(158, 179, 132, 1)',
                            pointBackgroundColor: 'rgba(158, 179, 132, 1)',
                        },
                        {
                            label: 'Anthropic',
                            data: [8, 7, 10, 9, 6],
                            fill: true,
                            backgroundColor: 'rgba(217, 203, 189, 0.4)',
                            borderColor: 'rgba(189, 174, 159, 1)',
                            pointBackgroundColor: 'rgba(189, 174, 159, 1)',
                        }
                    ]
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    elements: { line: { tension: 0.2 } },
                    scales: {
                        r: {
                            angleLines: { color: BORDER_COLOR },
                            grid: { color: BORDER_COLOR },
                            pointLabels: { color: FONT_COLOR, font: {size: 13} },
                            ticks: {
                                backdropColor: 'rgba(248, 245, 242, 0.7)',
                                color: FONT_COLOR,
                                stepSize: 2
                            }
                        }
                    },
                    plugins: {
                        legend: { labels: { color: FONT_COLOR } }
                    }
                }
            });
            
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');
            
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });

        });
    </script>
</body>
</html>
