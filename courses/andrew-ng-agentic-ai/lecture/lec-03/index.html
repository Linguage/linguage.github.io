<!doctype html>
<html lang="zh-CN" class="skin-gold">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>„ÄåScripts„ÄçModule 3: Tool Use ‚Ä¢ Linguista</title>
  <script>
    (function(){
      try{
        var key = 'theme';
        var stored = window.localStorage ? localStorage.getItem(key) : null;
        var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        var theme = (stored === 'dark' || stored === 'light') ? stored : (prefersDark ? 'dark' : null);
        if (theme){
          document.documentElement.dataset.theme = theme;
        } else {
          delete document.documentElement.dataset.theme;
        }
      }catch(err){   }
    })();
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Lora:wght@500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css?v=20251029-01" />
  <link rel="stylesheet" href="/overrides.css?v=20251029-01" />
  <link rel="stylesheet" href="/css/search.css?v=20251029-01" />
  <link rel="stylesheet" href="/linkcard.css?v=20251029-01" />
  <link rel="stylesheet" href="/css/typography-mlsys.css?v=20251029-01" />
  <link rel="stylesheet" href="/css/table-tooltips.css?v=20251029-01" />
  <link rel="stylesheet" href="/css/sociallink.css?v=20251029-01" />
  <link rel="stylesheet" href="/css/social-popup.css?v=20251029-01" />
  
  <style>:root{ --theme-breadcrumbs-height: 0px; }</style>
  
  
  <script>
    window.tailwind = window.tailwind || {};
    tailwind.config = {
      corePlugins: {
        preflight: false
      },
      safelist: [
        'group/link-card',
        'sm:flex-row',
        'sm:items-center',
        'h-[84px]',
        'w-[84px]',
        'sm:h-[84px]',
        'sm:w-[84px]',
        'line-clamp-2'
      ]
    };
  </script>
  <script src="https://cdn.tailwindcss.com?plugins=aspect-ratio"></script>
  
  <link rel="stylesheet" href="/css/skin-gold.css?v=20251029-01" />
  
  
  
  
  <style>
    :root{
      
      
      
      
      
      
    }
  </style>
  
  
  
  

<link rel="icon" href="/favicon_io/favicon.ico" sizes="any">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
<link rel="apple-touch-icon" href="/favicon_io/apple-touch-icon.png">
<link rel="manifest" href="/favicon_io/site.webmanifest">

  
  
<meta property="og:site_name" content="Linguista">
<meta property="og:type" content="article">
<meta property="og:title" content="„ÄåScripts„ÄçModule 3: Tool Use"><meta property="og:description" content="```"><meta property="og:url" content="https://linguage.github.io/courses/andrew-ng-agentic-ai/lecture/lec-03/"><meta property="og:image" content="https://linguage.github.io/img/Linguista_imresizer.png"><meta property="og:image:width" content="400">
  <meta property="og:image:height" content="400">
<meta name="twitter:card" content="summary"><meta name="twitter:site" content="@linguista2025"><meta name="twitter:creator" content="@linguista2025"><meta name="twitter:title" content="„ÄåScripts„ÄçModule 3: Tool Use"><meta name="twitter:description" content="```"><meta name="twitter:image" content="https://linguage.github.io/img/Linguista_imresizer.png">
<link rel="canonical" href="https://linguage.github.io/courses/andrew-ng-agentic-ai/lecture/lec-03/">

  
  
  <script>
    window.MathJax = {
      loader: { load: ['[tex]/ams'] },
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true,
        packages: { '[+]': ['ams'] },
        macros: {
          unicodeInt: ['\\mathop{\\vcenter{\\mathchoice{\\huge\\unicode{#1}}{\\unicode{#1}}{\\unicode{#1}}{\\unicode{#1}}}}\\nolimits', 1],
          oiint: '\\unicodeInt{x222F}',
          oiiint: '\\unicodeInt{x2230}'
        }
      },
      options: {
        skipHtmlTags: ['script','noscript','style','textarea','pre','code']
      }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-99PGBGJH4S"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} 
    gtag('js', new Date());
    gtag('config', 'G-99PGBGJH4S');
  </script>
</head>
<body>
  
  
  
  
  
<header class="site-header">
  
  <div class="container header-inner">
    
    <div class="brand">
      
        
          <a href="/" class="brand-avatar-link" aria-label="Linguista">
            <picture>
              <img src="/img/Avatar5518800_2.jpg" class="logo-avatar" alt="Linguista" width="32" height="32" loading="lazy" decoding="async" onerror="this.classList.add('avatar-fallback');" />
            </picture>
          </a>
        
      
      
      <button class="mobile-nav-btn mobile-nav-btn--header" aria-controls="navDrawer" aria-expanded="false" aria-label="ÊâìÂºÄÂØºËà™">‚ò∞</button>
      <span class="brand-text">Linguista</span>
    </div>
    
    
    <nav class="nav">
      
      
      
        
          
            <a href="/labs/" class="nav-link ">Â∑•Âùä</a>
          
        
          
            <a href="/essays/" class="nav-link ">ÁªèÂÖ∏</a>
          
        
          
            <a href="/courses/" class="nav-link ">ËØæÁ®ãËµÑÊñô</a>
          
        
          
            <a href="/bookmarks/" class="nav-link ">‰π¶Á≠æ</a>
          
        
          
            <a href="/about/" class="nav-link ">ÂÖ≥‰∫éÊàë</a>
          
        
      
      
    </nav>
    
    
    <div class="actions">
      
        
      
      <button id="searchToggleBtn" class="btn ghost search-toggle-btn" aria-label="ÊâìÂºÄÊêúÁ¥¢" title="ÊêúÁ¥¢" type="button">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" />
          <line x1="16.65" y1="16.65" x2="21" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
      <div class="site-search" role="search">
        <button id="searchBackBtn" class="mobile-search-back" aria-label="ËøîÂõû" title="ËøîÂõû" type="button">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <span class="site-search-icon" aria-hidden="true">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" />
            <line x1="16.65" y1="16.65" x2="21" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
        </span>
        <input id="globalSearchInput"
               class="site-search-input"
               type="search"
               placeholder="ÊêúÁ¥¢ÊñáÁ´†„ÄÅÊ†áÁ≠æ„ÄÅÊëòË¶Å‚Ä¶ÔºàÊåâ / Âø´ÈÄüËÅöÁÑ¶Ôºâ"
               aria-label="Á´ôÂÜÖÊêúÁ¥¢"
               autocomplete="off"
               spellcheck="false" />
        <button id="pageSearchBtn" class="page-search-btn" aria-label="Êú¨È°µÊêúÁ¥¢" title="Êú¨È°µÊêúÁ¥¢" type="button">È°µ</button>
        <div id="globalSearchPopover" class="site-search-popover" hidden aria-live="polite"></div>
      </div>
      <a href="/post/" class="btn ghost posts-btn">Posts</a>
      <button id="themeToggle" class="btn ghost theme-toggle-btn" aria-label="ÂàáÊç¢‰∏ªÈ¢ò" title="ÂàáÊç¢‰∏ªÈ¢ò">üåô</button>
    </div>
    
    
  </div>

  
</header>


<aside id="navDrawer" class="nav-drawer" hidden>
  <div class="nav-drawer-inner">
    
    
    <div class="nav-drawer-header">
      <div class="nav-drawer-title">Menu</div>
      <button id="navCloseBtn" class="nav-drawer-close" aria-label="Close menu">√ó</button>
    </div>
    
      <nav class="nav-drawer-list" aria-label="Mobile Primary">
        
        
          <a class="nav-drawer-item" href="/labs/">Â∑•Âùä</a>
          
        
          <a class="nav-drawer-item" href="/essays/">ÁªèÂÖ∏</a>
          
        
          <a class="nav-drawer-item" href="/courses/">ËØæÁ®ãËµÑÊñô</a>
          
        
          <a class="nav-drawer-item" href="/bookmarks/">‰π¶Á≠æ</a>
          
        
          <a class="nav-drawer-item" href="/about/">ÂÖ≥‰∫éÊàë</a>
          
        
      </nav>
    

    
    
    
    
      <div class="nav-drawer-folder">
        <div class="nav-drawer-subtitle">Section</div>
        <nav class="docs-nav in-drawer" aria-label="Current Section">
          









  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-01/">„ÄåScripts„ÄçModule 1: Introduction to Agentic Workflows</a>
    
  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-02/">„ÄåScripts„ÄçModule 2: Reflection Design Pattern</a>
    
  
    
    
    
      
      <a class="depth-0 file-link is-active" href="/courses/andrew-ng-agentic-ai/lecture/lec-03/">„ÄåScripts„ÄçModule 3: Tool Use</a>
    
  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-04/">„ÄåScripts„ÄçModule 4: Practical Tips for Building Agentic AI</a>
    
  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-05/">„ÄåScripts„ÄçModule 5: Patterns for Highly Autonomous Agents</a>
    
  



        </nav>
      </div>
    
  </div>
</aside>

  
  
  
  <main class="container">
    








<div class="docs-layout">
  
  <aside class="docs-sidebar" aria-label="Sections">
    
    <div class="docs-side-title">
      Documentation
    </div>
    
    
    
    
    
    
    
    
    <nav class="docs-nav">
      
      
      
      









  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-01/">„ÄåScripts„ÄçModule 1: Introduction to Agentic Workflows</a>
    
  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-02/">„ÄåScripts„ÄçModule 2: Reflection Design Pattern</a>
    
  
    
    
    
      
      <a class="depth-0 file-link is-active" href="/courses/andrew-ng-agentic-ai/lecture/lec-03/">„ÄåScripts„ÄçModule 3: Tool Use</a>
    
  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-04/">„ÄåScripts„ÄçModule 4: Practical Tips for Building Agentic AI</a>
    
  
    
    
    
      
      <a class="depth-0 file-link " href="/courses/andrew-ng-agentic-ai/lecture/lec-05/">„ÄåScripts„ÄçModule 5: Patterns for Highly Autonomous Agents</a>
    
  



      
      
    </nav>
    
    
    
    
  </aside>

  
  <article class="docs-content">
    
    <div class="prose">
      
      

      
      
      
      
        
      
      
      

      
      
      
      
      
      
        <div class="post-meta" style="color:var(--muted);font-size:14px;margin:4px 0 10px;">
          <span class="meta-author">Andrew Ng</span>
           ¬∑ 
          <span class="meta-date">2025-10-17</span>
        </div>
      

      
      <div
  class="link-card group relative my-3 w-full overflow-hidden rounded-xl border border-[var(--lc-border,rgba(15,23,42,0.12))] bg-[var(--lc-bg,var(--card-bg,var(--surface,#ffffff))))] transition-shadow duration-150 hover:shadow-[var(--lc-shadow-hover,0_14px_30px_-18px_rgba(15,23,42,0.35))]"
  data-url="https://learn.deeplearning.ai/courses/agentic-ai/"
>
  <a
    class="link-card__fallback block px-4 py-3 text-sm font-medium text-[var(--lc-url,var(--link-color,#0e6a85))] underline-offset-4 hover:underline"
    href="https://learn.deeplearning.ai/courses/agentic-ai/"
    target="_blank"
    rel="noopener"
  >
    https://learn.deeplearning.ai/courses/agentic-ai/
  </a>
</div>

<h1 id="module-3-tool-use">Module 3: Tool Use</h1>
<h2 id="31-what-are-tools">3.1 What are tools?</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>In this module, you learn about <span style="color:#66d9ef">tool</span> use by LLMs, <span style="color:#f92672">and</span> that means letting your LLM decide when it might want to request to have a function called to take some action, <span style="color:#f92672">or</span> gather some information, <span style="color:#f92672">or</span> <span style="color:#66d9ef">do</span> something <span style="color:#66d9ef">else</span><span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>Just as we as humans can <span style="color:#66d9ef">do</span> a lot more with tools than we can with just our bare hands, LLMs too can also <span style="color:#66d9ef">do</span> a lot more with access to tools<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>But rather than using hammers <span style="color:#f92672">and</span> spanners <span style="color:#f92672">and</span> pliers, when we give tools, that is, functions, <span style="color:#66d9ef">for</span> an LLM to request a call, that<span style="color:#e6db74">&#39;s what lets it do a lot more.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">33</span>
</span></span><span style="display:flex;"><span>Let<span style="color:#e6db74">&#39;s take a look.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>If you were to ask an LLM that<span style="color:#e6db74">&#39;s been trained maybe many months ago, what time is it right now?</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>Well, that trained model does <span style="color:#f92672">not</span> know exactly what time it is, <span style="color:#f92672">and</span> so hopefully it responds, sorry, I <span style="color:#66d9ef">do</span> <span style="color:#f92672">not</span> have access to the current time<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">48</span>
</span></span><span style="display:flex;"><span>But <span style="color:#66d9ef">if</span> you were to write a function <span style="color:#f92672">and</span> give the LLM access to this function, then that lets it respond with a more useful answer<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">56</span>
</span></span><span style="display:flex;"><span>When we let LLMs call functions, <span style="color:#f92672">or</span> more precisely, let an LLM request to call functions, that<span style="color:#e6db74">&#39;s what we mean by tool use, and the tools are just functions that we provide to the LLM that it can request to call.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">08</span>
</span></span><span style="display:flex;"><span>In detail, this is how <span style="color:#66d9ef">tool</span> use works<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">11</span>
</span></span><span style="display:flex;"><span>In this example, I<span style="color:#e6db74">&#39;m going to give the getCurrentTime function that I showed on the previous slide to the LLM.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>When you then prompt it, what time is it, the LLM can decide to call the getCurrentTime function<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>That will <span style="color:#66d9ef">return</span> the current time, which is then fed back to the LLM <span style="color:#f92672">in</span> the conversational history, <span style="color:#f92672">and</span> finally the LLM can output is, say, <span style="color:#ae81ff">3.20</span>pm<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">33</span>
</span></span><span style="display:flex;"><span>So the sequence of steps is, there<span style="color:#e6db74">&#39;s the input prompt.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span>The LLM, <span style="color:#f92672">in</span> this <span style="color:#66d9ef">case</span>, looks at the set of tools, which is just one <span style="color:#66d9ef">tool</span> <span style="color:#f92672">in</span> this example, but looks at the set of tools available, <span style="color:#f92672">and</span> it will decide <span style="color:#f92672">in</span> this example to call the <span style="color:#66d9ef">tool</span><span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">47</span>
</span></span><span style="display:flex;"><span>The <span style="color:#66d9ef">tool</span> is a function that then returns a value, that value is fed back to the LLM, <span style="color:#f92672">and</span> then finally the LLM generates its output<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span>Now, one important aspect of <span style="color:#66d9ef">tool</span> use is, we can leave it up to the LLM to decide whether <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> to use any of the tools<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">03</span>
</span></span><span style="display:flex;"><span>So <span style="color:#66d9ef">for</span> the same setup, <span style="color:#66d9ef">if</span> I was asking it, how much caffeine is <span style="color:#f92672">in</span> green tea, the LLM doesn<span style="color:#e6db74">&#39;t need to know the current time to answer this, and so it can generate an answer directly,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>green tea typically has this much caffeine, <span style="color:#f92672">and</span> it does so without invoking the getCurrentTime function<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>In my slides, I<span style="color:#e6db74">&#39;m going to use this notation with this dashed box on top of the LLM to indicate that we&#39;</span>re providing a set of tools to the LLM <span style="color:#66d9ef">for</span> the LLM to choose to use when it deems appropriate<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>This is as opposed to some examples you saw <span style="color:#f92672">in</span> earlier videos, where I, as a developer, had hard<span style="color:#f92672">-</span>coded <span style="color:#f92672">in</span>, <span style="color:#66d9ef">for</span> example, that I will always <span style="color:#66d9ef">do</span> a web search at this point <span style="color:#f92672">in</span> the research agent<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>In contrast, the getCurrentTime function call is <span style="color:#f92672">not</span> hard<span style="color:#f92672">-</span>coded <span style="color:#f92672">in</span>, it<span style="color:#e6db74">&#39;s up to the LLM to decide whether or not it wants to request a call to the getCurrentTime function.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">51</span>
</span></span><span style="display:flex;"><span>And again, we<span style="color:#e6db74">&#39;re going to use this dashed box notation to indicate when we&#39;</span>re giving one <span style="color:#f92672">or</span> more tools to the LLM <span style="color:#66d9ef">for</span> the LLM to decide what tools, <span style="color:#66d9ef">if</span> any, it wants to call<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">02</span>
</span></span><span style="display:flex;"><span>Here are some more examples of when <span style="color:#66d9ef">tool</span> use may help an LLM<span style="color:#f92672">-</span>based app generate better answers<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">08</span>
</span></span><span style="display:flex;"><span>If you were to ask it, can you find some Italian restaurants near Mountain View, California<span style="color:#960050;background-color:#1e0010">?</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>If it has a web search <span style="color:#66d9ef">tool</span>, then an LLM might elect to call a web search engine <span style="color:#66d9ef">for</span> a query, restaurants near Mountain View, California, <span style="color:#f92672">and</span> use the results that fetches to generate the output<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>Or <span style="color:#66d9ef">if</span> you are running a retail store <span style="color:#f92672">and</span> you want to be able to answer questions like, show me customers who bought white sunglasses, <span style="color:#66d9ef">if</span> your LLM is given access to a query database <span style="color:#66d9ef">tool</span>, then it might look up the table of sales <span style="color:#66d9ef">for</span> what entries had a pair of white sunglasses sold <span style="color:#f92672">and</span> then use that to then generate the output<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">44</span>
</span></span><span style="display:flex;"><span>Finally, <span style="color:#66d9ef">if</span> you wanted to <span style="color:#66d9ef">do</span> an interest rate calculation, <span style="color:#66d9ef">if</span> I were to deposit <span style="color:#f92672">$</span><span style="color:#ae81ff">500</span> <span style="color:#f92672">and</span> after <span style="color:#ae81ff">10</span> years, an interest rate of <span style="color:#ae81ff">5</span><span style="color:#f92672">%</span>, what would I have<span style="color:#960050;background-color:#1e0010">?</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">53</span>
</span></span><span style="display:flex;"><span>If you happen to have an interest calculation <span style="color:#66d9ef">tool</span>, then it could invoke the interest calculation function to calculate that<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">01</span>
</span></span><span style="display:flex;"><span>Or it turns out, one thing you see later is letting an LLM write code, like just write a mathematical expression like this, <span style="color:#f92672">and</span> then to evaluate it, that would be another way to let an LLM calculate the right answer<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>So as a developer, it<span style="color:#e6db74">&#39;ll be up to you to think through what are the sorts of things you want an application to really do, and then to create the functions or the tools that are needed to make them available to the LLM to let it use the appropriate tools to complete the sorts of tasks that maybe a restaurant recommender or a retail question answer or a finance assistant may want to do.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">39</span>
</span></span><span style="display:flex;"><span>So depending on your application, you may have to implement <span style="color:#f92672">and</span> make different tools available to your LLM<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">46</span>
</span></span><span style="display:flex;"><span>So far, most of the examples we<span style="color:#e6db74">&#39;ve gone through made only one tool or one function available to the LLM.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">52</span>
</span></span><span style="display:flex;"><span>But there are many use cases where you want to make multiple tools <span style="color:#f92672">or</span> multiple functions available <span style="color:#66d9ef">for</span> the LLM <span style="color:#66d9ef">for</span> it to choose which of any to call<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">59</span>
</span></span><span style="display:flex;"><span>For example, <span style="color:#66d9ef">if</span> you<span style="color:#e6db74">&#39;re building a calendar assistant agent, you might then want it to be able to fulfill requests like, please find a free slot on Thursday in my calendar and make an appointment with Alice.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">11</span>
</span></span><span style="display:flex;"><span>So <span style="color:#f92672">in</span> this example, we might make available to the LLM a <span style="color:#66d9ef">tool</span> <span style="color:#f92672">or</span> a function to make an appointment, that is, to send a calendar invite, to check the calendar to see when I might be free, as well as to delete the appointment <span style="color:#66d9ef">if</span> it ever wants to cancel an existing calendar entry<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">26</span>
</span></span><span style="display:flex;"><span>And so given the set of instructions, the LLM would first decide that of the different tools available, probably the first one it should use is check calendar<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>So call a check calendar function that will <span style="color:#66d9ef">return</span> when I am free on Thursday<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>Based on that information, which is fed back to the LLM, it can then decide that the next step is to pick a slot, let<span style="color:#e6db74">&#39;s say 3 p.m., and then to call the make appointment function to send a calendar invite to Alice, as well as to add it to my calendar.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">56</span>
</span></span><span style="display:flex;"><span>The output of that, which hopefully is a confirmation that the calendar entry was sent out successfully, is fed back to the LLM, <span style="color:#f92672">and</span> then lastly, the LLM might tell me your appointment is set up with Alice at <span style="color:#ae81ff">3</span> p<span style="color:#f92672">.</span>m<span style="color:#f92672">.</span> Thursday<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>:<span style="color:#ae81ff">08</span>
</span></span><span style="display:flex;"><span>Being able to give your LLM access to tools is a pretty big deal<span style="color:#f92672">.</span> It will make your applications much more powerful<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>:<span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span>In the next video, we<span style="color:#e6db74">&#39;ll take a look at how to write functions, how to create tools to then make them available to your LLM. Let&#39;</span>s go on to the next video<span style="color:#f92672">.</span>
</span></span></code></pre></div><h2 id="32-creating-a-tool">3.2 Creating a tool</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">01</span>
</span></span><span style="display:flex;"><span>The process of how an LLM decides to call a function maybe seems a little bit mysterious
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">05</span>
</span></span><span style="display:flex;"><span>initially because an LLM is just trained to generate output text <span style="color:#f92672">or</span> output text tokens<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">11</span>
</span></span><span style="display:flex;"><span>So how does that work<span style="color:#960050;background-color:#1e0010">?</span> In this video, I<span style="color:#e6db74">&#39;d like to walk through with you step-by-step</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span>what the process of getting an LLM to be able to get a function called really looks like<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span>Let<span style="color:#e6db74">&#39;s take a look.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">22</span>
</span></span><span style="display:flex;"><span>So tools are just codes <span style="color:#f92672">or</span> functions that an LLM can request to be executed,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">27</span>
</span></span><span style="display:flex;"><span>like this getCurrentTime function that we saw from the previous video<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>Now, today<span style="color:#e6db74">&#39;s leading LLMs are all trained directly to use tools,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span>but I want to walk through with you what it would look like <span style="color:#66d9ef">if</span> you had to write prompts yourself
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>to tell it when to use tools, <span style="color:#f92672">and</span> this is what we had to <span style="color:#66d9ef">do</span> <span style="color:#f92672">in</span> an earlier era
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">46</span>
</span></span><span style="display:flex;"><span>before LLMs were trained directly to use tools<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">49</span>
</span></span><span style="display:flex;"><span>And even though we don<span style="color:#e6db74">&#39;t do it exactly this way anymore,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">51</span>
</span></span><span style="display:flex;"><span>this will hopefully give you a better understanding of the process,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> we<span style="color:#e6db74">&#39;ll walk through the more modern syntax in the next video.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">57</span>
</span></span><span style="display:flex;"><span>If you<span style="color:#e6db74">&#39;ve implemented this function to getCurrentTime,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>then <span style="color:#f92672">in</span> order to give this <span style="color:#66d9ef">tool</span> to the LLM, you might write a prompt like this<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">05</span>
</span></span><span style="display:flex;"><span>You may tell it, LLM, you have access to a <span style="color:#66d9ef">tool</span> called getCurrentTime<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">09</span>
</span></span><span style="display:flex;"><span>To use it, I want you to print out the following text<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>Print out all caps function <span style="color:#f92672">and</span> then print out getCurrentTime<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span>And <span style="color:#66d9ef">if</span> I ever see this text, all caps function <span style="color:#f92672">and</span> then getCurrentTime,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">19</span>
</span></span><span style="display:flex;"><span>that<span style="color:#e6db74">&#39;s when I know you want me to call the getCurrentTime function for you.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>When a user asks, what time is it<span style="color:#960050;background-color:#1e0010">?</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>The LLM will then realize it needs to call <span style="color:#f92672">or</span> request to get called the getCurrentTime function<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">29</span>
</span></span><span style="display:flex;"><span>And so the LLM will then output what it was told<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">32</span>
</span></span><span style="display:flex;"><span>It<span style="color:#e6db74">&#39;ll output all caps function: getCurrentTime.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>Now, I then have to have written code to look at the output of the LLM
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>to see <span style="color:#66d9ef">if</span> there is this all caps function<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>And <span style="color:#66d9ef">if</span> so, then I need to pull out the argument of this getCurrentTime
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">47</span>
</span></span><span style="display:flex;"><span>to figure out what function the LLM wants to call<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">49</span>
</span></span><span style="display:flex;"><span>And then I need to write code to actually call the getCurrentTime function
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">53</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> then pull out the output, which is, let<span style="color:#e6db74">&#39;s say, 8 a.m.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">57</span>
</span></span><span style="display:flex;"><span>And then it is the developer written code, my code,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>that has to take <span style="color:#ae81ff">8</span> a<span style="color:#f92672">.</span>m<span style="color:#f92672">.</span> <span style="color:#f92672">and</span> feed that time, <span style="color:#ae81ff">8</span> a<span style="color:#f92672">.</span>m<span style="color:#f92672">.</span>,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>back into the LLM as part of this conversational history<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">07</span>
</span></span><span style="display:flex;"><span>And the conversational history, of course, includes the initial user prompt,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>the fact that the request is a function call, <span style="color:#f92672">and</span> so on<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span>And lastly, the LLM, knowing what had happened earlier,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>that the user asks a question, requests a function call,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">19</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> then also that I call the function <span style="color:#f92672">and</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">8</span> a<span style="color:#f92672">.</span>m<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>Finally, the LLM can look at all this <span style="color:#f92672">and</span> generate the final response,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">26</span>
</span></span><span style="display:flex;"><span>which is, it is <span style="color:#ae81ff">8</span> a<span style="color:#f92672">.</span>m<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span>So to be clear, <span style="color:#f92672">in</span> order to call a function,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>the LLM doesn<span style="color:#e6db74">&#39;t call the function directly.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>It instead outputs something <span style="color:#f92672">in</span> a specific format like this
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">38</span>
</span></span><span style="display:flex;"><span>that tells me that I need to call the function <span style="color:#66d9ef">for</span> the LLM
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> then tell the LLM what was the output of the function I requested<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">45</span>
</span></span><span style="display:flex;"><span>In this example, we had given the LLM only a single function,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">49</span>
</span></span><span style="display:flex;"><span>but you can imagine <span style="color:#66d9ef">if</span> we gave it three <span style="color:#f92672">or</span> four functions,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">52</span>
</span></span><span style="display:flex;"><span>we could tell it to output functions <span style="color:#f92672">in</span> all caps,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span>then the name of the function it wants called,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">57</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> maybe even some arguments of these functions<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>In fact, now let<span style="color:#e6db74">&#39;s take a look at a slightly more complex example</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">03</span>
</span></span><span style="display:flex;"><span>where the getCurrentTime function accepts an argument <span style="color:#66d9ef">for</span> the time zone
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">08</span>
</span></span><span style="display:flex;"><span>at which you want the current time<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>For this second example, I<span style="color:#e6db74">&#39;ve written a function</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">14</span>
</span></span><span style="display:flex;"><span>that gets the current time <span style="color:#f92672">in</span> a specified time zone,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>where here the time zone is the input argument
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">19</span>
</span></span><span style="display:flex;"><span>to the getCurrentTime function<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">22</span>
</span></span><span style="display:flex;"><span>So to let the LLM use this <span style="color:#66d9ef">tool</span> to answer questions
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>like maybe, what time is it <span style="color:#f92672">in</span> New Zealand<span style="color:#960050;background-color:#1e0010">?</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">27</span>
</span></span><span style="display:flex;"><span>Because my answer is there, so before I call her up,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">29</span>
</span></span><span style="display:flex;"><span>I <span style="color:#66d9ef">do</span> look up what time it is <span style="color:#f92672">in</span> New Zealand<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>To let the LLM use this <span style="color:#66d9ef">tool</span>, you might modify the system prompt
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>to say you can use the getCurrentTime <span style="color:#66d9ef">tool</span> <span style="color:#66d9ef">for</span> a specific time zone<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">39</span>
</span></span><span style="display:flex;"><span>To use it, I<span style="color:#e6db74">&#39;ll put the following, getCurrentTime,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> then, you know, include the time zone<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">43</span>
</span></span><span style="display:flex;"><span>And this is an abbreviated prompt<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">45</span>
</span></span><span style="display:flex;"><span>In practice, you might put more details than this into the prompt
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">48</span>
</span></span><span style="display:flex;"><span>to tell it what is the function, how to use it, <span style="color:#f92672">and</span> so on<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span>In this example, the LLM will then realize
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">53</span>
</span></span><span style="display:flex;"><span>it needs to fetch the time <span style="color:#f92672">in</span> New Zealand,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">56</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> so it will generate output like this,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">58</span>
</span></span><span style="display:flex;"><span>function: getCurrentTime Pacific<span style="color:#f92672">/</span>Auckland<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">02</span>
</span></span><span style="display:flex;"><span>This is the New Zealand time zone
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>because Auckland is a major city <span style="color:#f92672">in</span> New Zealand<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">06</span>
</span></span><span style="display:flex;"><span>Then I have to write code to search <span style="color:#66d9ef">for</span> whether <span style="color:#f92672">or</span> <span style="color:#f92672">not</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>this function all caps appeared <span style="color:#f92672">in</span> the LLM output,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> <span style="color:#66d9ef">if</span> so, then I need to pull out the function to call<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>Lastly, I will then call getCurrentTime
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">19</span>
</span></span><span style="display:flex;"><span>with the specified arguments, which is generated by the LLM,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">22</span>
</span></span><span style="display:flex;"><span>which is Pacific<span style="color:#f92672">/</span>Auckland, <span style="color:#f92672">and</span> maybe returns is <span style="color:#ae81ff">4</span> a<span style="color:#f92672">.</span>m<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>Then as usual, I feed this to the LLM <span style="color:#f92672">and</span> the LLM outputs<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span>It is <span style="color:#ae81ff">4</span> a<span style="color:#f92672">.</span>m<span style="color:#f92672">.</span> <span style="color:#f92672">in</span> New Zealand<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>To summarize, here<span style="color:#e6db74">&#39;s the process for getting LLM to use tools.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>First, you have to provide the <span style="color:#66d9ef">tool</span> to the LLM,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">37</span>
</span></span><span style="display:flex;"><span>implement the function, <span style="color:#f92672">and</span> then tell the LLM that it is available<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>When the LLM decides to call a <span style="color:#66d9ef">tool</span>,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>it then generates a specific output that lets you know
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">45</span>
</span></span><span style="display:flex;"><span>that you need to call the function <span style="color:#66d9ef">for</span> the LLM<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">48</span>
</span></span><span style="display:flex;"><span>Then you call the function, get its output,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">51</span>
</span></span><span style="display:flex;"><span>take the output of the function you just called,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">53</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> give that output back to the LLM,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> the LLM then uses that to go on to whatever it decides to <span style="color:#66d9ef">do</span> next,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">59</span>
</span></span><span style="display:flex;"><span>which <span style="color:#f92672">in</span> our examples <span style="color:#f92672">in</span> this video was to just generate the final output,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">03</span>
</span></span><span style="display:flex;"><span>but sometimes it may even decide that the next step
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">05</span>
</span></span><span style="display:flex;"><span>is to go call yet another <span style="color:#66d9ef">tool</span>, <span style="color:#f92672">and</span> the process continues<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">09</span>
</span></span><span style="display:flex;"><span>Now, it turns out that this all<span style="color:#f92672">-</span>caps function syntax is a little bit clunky<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span>This is what we used to <span style="color:#66d9ef">do</span> before LLMs were trained natively
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">or</span> to know by themselves how to request that tools be called<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span>With modern LLMs, you don<span style="color:#e6db74">&#39;t need to tell it to output all-caps function,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>then search <span style="color:#66d9ef">for</span> all<span style="color:#f92672">-</span>caps function, <span style="color:#f92672">and</span> so on<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">27</span>
</span></span><span style="display:flex;"><span>Instead, LLMs are trained to use a specific syntax
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>to request very clearly when it wants a <span style="color:#66d9ef">tool</span> called<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>In the next video, I want to share with you
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span>what the modern syntax actually looks like
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">38</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> letting LLMs request to have tools be called<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>Let<span style="color:#e6db74">&#39;s go on to the next video.</span>
</span></span></code></pre></div><h2 id="33-tool-syntax">3.3 Tool syntax</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">01</span>
</span></span><span style="display:flex;"><span>Let<span style="color:#e6db74">&#39;s take a look at how to write code to have your LLM get tools called.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>Here<span style="color:#e6db74">&#39;s our old getCurrentTime function without the time zone argument.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">09</span>
</span></span><span style="display:flex;"><span>Let me show you how to use the AI Suite open source library <span style="color:#f92672">in</span> order to have your LLM call
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">14</span>
</span></span><span style="display:flex;"><span>tools<span style="color:#f92672">.</span> By the way, technically, as you saw from the last video, the LLM doesn<span style="color:#e6db74">&#39;t call the tool.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>The LLM just requests that you call the <span style="color:#66d9ef">tool</span><span style="color:#f92672">.</span> But among developers building agentic workflows,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>many of us will occasionally just say the LLM calls the <span style="color:#66d9ef">tool</span>, even though it<span style="color:#e6db74">&#39;s not technically</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>what happens, but because it<span style="color:#e6db74">&#39;s just a shorter way to say it.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>This syntax here is very similar to the OpenAI syntax <span style="color:#66d9ef">for</span> calling these LLMs, except that here,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>I<span style="color:#e6db74">&#39;m using the AI Suite library, which is an open source package that some friends and I had worked</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">46</span>
</span></span><span style="display:flex;"><span>on that makes it easy to call multiple LLM providers<span style="color:#f92672">.</span> So the code syntax, <span style="color:#f92672">and</span> <span style="color:#66d9ef">if</span> this
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">53</span>
</span></span><span style="display:flex;"><span>looks like a lot to you, don<span style="color:#e6db74">&#39;t worry about it. You&#39;</span>ll see more of this <span style="color:#f92672">in</span> the code labs<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">57</span>
</span></span><span style="display:flex;"><span>But very briefly, this is very similar to the OpenAI syntax, where you say response equals
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">02</span>
</span></span><span style="display:flex;"><span>client check, completions create, then select the model, which <span style="color:#f92672">in</span> this <span style="color:#66d9ef">case</span>, we<span style="color:#e6db74">&#39;ll use the</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">07</span>
</span></span><span style="display:flex;"><span>OpenAI model GPT<span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>o, messages equals messages, assuming you<span style="color:#e6db74">&#39;ve put into an array here the</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span>messages you want to <span style="color:#66d9ef">pass</span> the LLM, <span style="color:#f92672">and</span> it will say tools equals, then a list of the tools you want
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">19</span>
</span></span><span style="display:flex;"><span>the LLM to have access to<span style="color:#f92672">.</span> And <span style="color:#f92672">in</span> this <span style="color:#66d9ef">case</span>, there<span style="color:#e6db74">&#39;s just one tool, which is get current time,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> then don<span style="color:#e6db74">&#39;t worry too much about the max turns parameter. This is included because</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span>after a <span style="color:#66d9ef">tool</span> call returns, the LLM might decide to call another <span style="color:#66d9ef">tool</span>, <span style="color:#f92672">and</span> after that <span style="color:#66d9ef">tool</span> call
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">33</span>
</span></span><span style="display:flex;"><span>returns, the LLM might decide to call yet another <span style="color:#66d9ef">tool</span><span style="color:#f92672">.</span> So max turns is just a ceiling on how many
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">38</span>
</span></span><span style="display:flex;"><span>times you want the LLM to request one <span style="color:#66d9ef">tool</span> after another before you stop to just <span style="color:#66d9ef">break</span> out of a
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">44</span>
</span></span><span style="display:flex;"><span>possible infinite loop<span style="color:#f92672">.</span> In practice, you almost never hit this limit unless your code is doing
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">49</span>
</span></span><span style="display:flex;"><span>something unusually ambitious<span style="color:#f92672">.</span> So I wouldn<span style="color:#e6db74">&#39;t worry about the max turns parameter. I usually just set it to</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span>five, but <span style="color:#f92672">in</span> practice, it doesn<span style="color:#e6db74">&#39;t matter that much. And it turns out that with AISuite, the function</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>get current time is automatically described to the LLM <span style="color:#f92672">in</span> an appropriate way to enable the LLM to
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">06</span>
</span></span><span style="display:flex;"><span>know when to call it<span style="color:#f92672">.</span> So rather than you needing to manually write a long prompt to tell the LLM,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>once get current time, this syntax <span style="color:#f92672">in</span> AISuite does that automatically<span style="color:#f92672">.</span> And to make it seem <span style="color:#f92672">not</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>too mysterious, the way it does that, it actually looks at the dot string associated with get current
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>time with this comments <span style="color:#f92672">in</span> get current time <span style="color:#f92672">in</span> order to figure out how to describe this function
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>to the LLM<span style="color:#f92672">.</span> So to illustrate how this works, here<span style="color:#e6db74">&#39;s the function again, and here&#39;</span>s the
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span>snippet of code using AISuite to call the LLM<span style="color:#f92672">.</span> Behind the scenes, what this will <span style="color:#66d9ef">do</span> is create a
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">43</span>
</span></span><span style="display:flex;"><span>JSON schema that describes the function <span style="color:#f92672">in</span> detail<span style="color:#f92672">.</span> And this over here on the right is what is actually
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span>passed to the LLM<span style="color:#f92672">.</span> And specifically, it will pull the name of the function, which is get current time,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> then also a description of the function, which is pulled out from the doc string to tell the LLM
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">01</span>
</span></span><span style="display:flex;"><span>what this function does, which lets it decide when to call it<span style="color:#f92672">.</span> There<span style="color:#e6db74">&#39;s some APIs which require that</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">06</span>
</span></span><span style="display:flex;"><span>you manually construct this JSON schema <span style="color:#f92672">and</span> then <span style="color:#66d9ef">pass</span> this JSON schema to the LLM, but the AISuite
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span>package does this automatically <span style="color:#66d9ef">for</span> you<span style="color:#f92672">.</span> To go through a slightly more complex example, <span style="color:#66d9ef">if</span> you
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>have this more complex get current time <span style="color:#66d9ef">tool</span> that also has an input time zone parameter, then AISuite
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>will create this more complex JSON schema where, as before, it pulls out the name of the function,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>which is get current time, pulls out the description from the doc string, <span style="color:#f92672">and</span> then also identifies
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>what are the parameters <span style="color:#f92672">and</span> describes them to the LLM based on the documentation here shown on the
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>left, so that when it<span style="color:#e6db74">&#39;s generating the function arguments to call the tool, it knows that it</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">47</span>
</span></span><span style="display:flex;"><span>should be something like America<span style="color:#f92672">/</span>New York <span style="color:#f92672">or</span> Pacific<span style="color:#f92672">/</span>Auckland <span style="color:#f92672">or</span> some other time zone<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">53</span>
</span></span><span style="display:flex;"><span>And so <span style="color:#66d9ef">if</span> you execute this code snippet here on the lower left, it will use the OpenAI
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">59</span>
</span></span><span style="display:flex;"><span>GPT<span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>o model, see <span style="color:#66d9ef">if</span> the LLM wants the function called, <span style="color:#f92672">and</span> <span style="color:#66d9ef">if</span> so, it<span style="color:#e6db74">&#39;ll call the function,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>get the output from the function, feed that back to the LLM, <span style="color:#f92672">and</span> <span style="color:#66d9ef">do</span> that up to a maximum of five
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>turns <span style="color:#f92672">and</span> then <span style="color:#66d9ef">return</span> the response<span style="color:#f92672">.</span> Note that <span style="color:#66d9ef">if</span> the LLM requests to call the get current time
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>function, AISuite <span style="color:#f92672">or</span> this client, it will call the get current time <span style="color:#66d9ef">for</span> you, so you don<span style="color:#e6db74">&#39;t need</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>to explicitly <span style="color:#66d9ef">do</span> it yourself<span style="color:#f92672">.</span> All that is done <span style="color:#f92672">in</span> this single function call that you have to write<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">29</span>
</span></span><span style="display:flex;"><span>Just note that there are some other implementations of LLM interfaces where you have to <span style="color:#66d9ef">do</span> that step
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span>manually, but with this particular package, this is all wrapped into this client chat completions
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>create function call<span style="color:#f92672">.</span> So you now know how to get an LLM to call functions, <span style="color:#f92672">and</span> I hope that you enjoy
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">49</span>
</span></span><span style="display:flex;"><span>playing with this <span style="color:#f92672">in</span> the labs, <span style="color:#f92672">and</span> it<span style="color:#e6db74">&#39;s actually really amazing when you provide a few functions</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span>to LLM <span style="color:#f92672">and</span> LLM decides to go <span style="color:#f92672">and</span> take action <span style="color:#f92672">in</span> the world, go <span style="color:#f92672">and</span> get more information
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">59</span>
</span></span><span style="display:flex;"><span>to fulfill your requests<span style="color:#f92672">.</span> If you haven<span style="color:#e6db74">&#39;t played with this before, I think you&#39;</span>ll find this to be
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>really cool<span style="color:#f92672">.</span> It turns out that of all the tools you can give an LLM, there<span style="color:#e6db74">&#39;s one that&#39;</span>s a bit special,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>which is a code execution <span style="color:#66d9ef">tool</span><span style="color:#f92672">.</span> It turns out to be really powerful<span style="color:#f92672">.</span> If you can tell an LLM,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>you can write code, <span style="color:#f92672">and</span> I will have a <span style="color:#66d9ef">tool</span> to execute that code <span style="color:#66d9ef">for</span> you, because code can <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span>a lot of things, <span style="color:#f92672">and</span> we give an LLM the flexibility to write code <span style="color:#f92672">and</span> have code executed<span style="color:#f92672">.</span> That turns
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span>out to be an incredibly powerful <span style="color:#66d9ef">tool</span> to give to LLMs<span style="color:#f92672">.</span> So code execution is special<span style="color:#f92672">.</span> Let<span style="color:#e6db74">&#39;s go</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>on to the next video to talk about the code execution <span style="color:#66d9ef">tool</span> <span style="color:#66d9ef">for</span> LLMs<span style="color:#f92672">.</span>
</span></span></code></pre></div><h2 id="34-code-execution">3.4 Code execution</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">05</span>
</span></span><span style="display:flex;"><span>In a few agentic applications I<span style="color:#e6db74">&#39;ve worked on, I gave the LLM the option to write code to then</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">06</span>
</span></span><span style="display:flex;"><span>carry out the task I wanted it to<span style="color:#f92672">.</span> And I<span style="color:#e6db74">&#39;ve been a few times now, I&#39;</span>ve been really surprised <span style="color:#f92672">and</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>delighted by the cleverness of the code solutions it generated <span style="color:#f92672">in</span> order to solve various tasks <span style="color:#66d9ef">for</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>me<span style="color:#f92672">.</span> So <span style="color:#66d9ef">if</span> you haven<span style="color:#e6db74">&#39;t used code execution much, I think you might be surprised and delighted at</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>what this will let your LLM applications <span style="color:#66d9ef">do</span><span style="color:#f92672">.</span> Let<span style="color:#e6db74">&#39;s take a look. Let&#39;</span>s take an example of
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">29</span>
</span></span><span style="display:flex;"><span>building an application that can input math word problems <span style="color:#f92672">and</span> solve them <span style="color:#66d9ef">for</span> you<span style="color:#f92672">.</span> So you might
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span>create tools that add numbers, subtract numbers, multiply numbers, <span style="color:#f92672">and</span> divide numbers<span style="color:#f92672">.</span> And <span style="color:#66d9ef">if</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>someone says, please add <span style="color:#ae81ff">13.2</span> plus <span style="color:#ae81ff">18.9</span>, then it triggers the add <span style="color:#66d9ef">tool</span> <span style="color:#f92672">and</span> then it gets you the
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">46</span>
</span></span><span style="display:flex;"><span>right answer<span style="color:#f92672">.</span> But what <span style="color:#66d9ef">if</span> someone now types <span style="color:#f92672">in</span>, what is the square root of two<span style="color:#960050;background-color:#1e0010">?</span> Well, one thing
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span>you could <span style="color:#66d9ef">do</span> is write a new <span style="color:#66d9ef">tool</span> <span style="color:#66d9ef">for</span> a square root, but then maybe some new thing is needed to
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">56</span>
</span></span><span style="display:flex;"><span>carry out exponentiation<span style="color:#f92672">.</span> And <span style="color:#f92672">in</span> fact, <span style="color:#66d9ef">if</span> you look at the number of buttons on your modern
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">02</span>
</span></span><span style="display:flex;"><span>scientific calculator, are you going to create a separate <span style="color:#66d9ef">tool</span> <span style="color:#66d9ef">for</span> every one of these buttons <span style="color:#f92672">and</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">06</span>
</span></span><span style="display:flex;"><span>the many more things that we would want to <span style="color:#66d9ef">do</span> <span style="color:#f92672">in</span> math calculation<span style="color:#960050;background-color:#1e0010">?</span> So instead of trying to implement
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>one <span style="color:#66d9ef">tool</span> after another, a different approach is to let it write <span style="color:#f92672">and</span> execute code<span style="color:#f92672">.</span> To tell the LLM
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">19</span>
</span></span><span style="display:flex;"><span>to write code, you might write a prompt like this<span style="color:#f92672">.</span> Write code to solve the user<span style="color:#e6db74">&#39;s query. Return your</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">24</span>
</span></span><span style="display:flex;"><span>answer as Python code delimited with execute Python <span style="color:#f92672">and</span> closing execute Python tags<span style="color:#f92672">.</span> So given a query
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>like what is the square root of two, the LLM might generate outputs like this<span style="color:#f92672">.</span> You can then use
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">37</span>
</span></span><span style="display:flex;"><span>pattern matching, <span style="color:#66d9ef">for</span> example, a regular expression to look <span style="color:#66d9ef">for</span> the start <span style="color:#f92672">and</span> end execute Python tags
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">44</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> extract the code <span style="color:#f92672">in</span> between<span style="color:#f92672">.</span> So here you get these two lines of code shown <span style="color:#f92672">in</span> the green box,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> you can then execute this code <span style="color:#66d9ef">for</span> the LLM <span style="color:#f92672">and</span> get the output, <span style="color:#f92672">in</span> this <span style="color:#66d9ef">case</span>, <span style="color:#ae81ff">1.4142</span> <span style="color:#f92672">and</span> so on<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">57</span>
</span></span><span style="display:flex;"><span>Lastly, this numerical answer is then passed back to the LLM <span style="color:#f92672">and</span> it can write a nicely formatted
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>answer to the original question<span style="color:#f92672">.</span> There are a few different ways you can carry out the code
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">08</span>
</span></span><span style="display:flex;"><span>execution step <span style="color:#66d9ef">for</span> the LLM<span style="color:#f92672">.</span> One is to use Python<span style="color:#e6db74">&#39;s exec function. This is a built-in Python function</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span>which will execute whatever code you <span style="color:#66d9ef">pass</span> <span style="color:#f92672">in</span><span style="color:#f92672">.</span> And this is very powerful <span style="color:#66d9ef">for</span> your LLM to really
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span>write code <span style="color:#f92672">and</span> get you to execute that code, although there are some security implications
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">26</span>
</span></span><span style="display:flex;"><span>which we<span style="color:#e6db74">&#39;ll see later in this video. And then there are also some tools that will let you run the code</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">in</span> a safer sandbox environment<span style="color:#f92672">.</span> And of course, square root of two is a relatively simple example<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">38</span>
</span></span><span style="display:flex;"><span>An LLM can also accurately write code to, <span style="color:#66d9ef">for</span> example, <span style="color:#66d9ef">do</span> interest calculations <span style="color:#f92672">and</span> solve much harder
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">45</span>
</span></span><span style="display:flex;"><span>math calculations than this<span style="color:#f92672">.</span> One refinement to this idea, which you sort of saw <span style="color:#f92672">in</span> our section
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">52</span>
</span></span><span style="display:flex;"><span>on reflection, is that <span style="color:#66d9ef">if</span> code execution fails, so <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">for</span> some reason the LLM had generated code
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">58</span>
</span></span><span style="display:flex;"><span>that wasn<span style="color:#e6db74">&#39;t quite correct, then passing that error message back to the LLM to let it reflect and</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>maybe revise this code <span style="color:#f92672">and</span> try another one <span style="color:#f92672">or</span> two times<span style="color:#f92672">.</span> That can sometimes also allow it to get a
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>more accurate answer<span style="color:#f92672">.</span> Now, running arbitrary code that an LLM generates does have a small chance of
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>causing something bad to happen<span style="color:#f92672">.</span> Recently, one of my team members was using a highly agentic coder
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">24</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">and</span> it actually chose to remove star<span style="color:#f92672">.</span>py within a project directory<span style="color:#f92672">.</span> So this is actually a real
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>example<span style="color:#f92672">.</span> And eventually that agentic coder did apologize<span style="color:#f92672">.</span> It said, yes, that<span style="color:#e6db74">&#39;s actually right,</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>that was an incredibly stupid mistake<span style="color:#f92672">.</span> I guess I was glad that this agentic coder was really sorry,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>but I already deleted a bunch of Python files<span style="color:#f92672">.</span> Unfortunately, the team member had it backed
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">44</span>
</span></span><span style="display:flex;"><span>up on GitHub repo, so there was no real harm done, but it would have been <span style="color:#f92672">not</span> great <span style="color:#66d9ef">if</span> this
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span>arbitrary code, which made the mistake of deleting a bunch of files, had been executed
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span>without the backup<span style="color:#f92672">.</span> So the best practice <span style="color:#66d9ef">for</span> code execution is to run it inside a sandbox
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>environment<span style="color:#f92672">.</span> In practice, the risk <span style="color:#66d9ef">for</span> any single line of code is <span style="color:#f92672">not</span> that high<span style="color:#f92672">.</span> So <span style="color:#66d9ef">if</span> I<span style="color:#e6db74">&#39;m being</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">07</span>
</span></span><span style="display:flex;"><span>candid, many developers will execute code from the LLM without too much checking<span style="color:#f92672">.</span> But <span style="color:#66d9ef">if</span> you want to
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>be a bit safer, then the best practice is to create a sandbox so that <span style="color:#66d9ef">if</span> an LLM generates bad
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">19</span>
</span></span><span style="display:flex;"><span>code, there<span style="color:#e6db74">&#39;s a lower risk of data loss or leakage of sensitive data and so on. So sandbox</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">26</span>
</span></span><span style="display:flex;"><span>environments like Docker <span style="color:#f92672">or</span> E2B as a lightweight sandbox environment can reduce the risk of
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">33</span>
</span></span><span style="display:flex;"><span>arbitrary codes being executed <span style="color:#f92672">in</span> a way that damages your system <span style="color:#f92672">or</span> your environment<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">39</span>
</span></span><span style="display:flex;"><span>It turns out that code execution is so important that a lot of trainers of LLMs actually <span style="color:#66d9ef">do</span> special
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">46</span>
</span></span><span style="display:flex;"><span>work to make sure that code execution works well on their applications<span style="color:#f92672">.</span> But I hope that as you add
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">52</span>
</span></span><span style="display:flex;"><span>this as one more <span style="color:#66d9ef">tool</span> <span style="color:#66d9ef">for</span> you to potentially offer to LLMs <span style="color:#f92672">or</span> let you make your applications
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">58</span>
</span></span><span style="display:flex;"><span>much more powerful<span style="color:#f92672">.</span> So far <span style="color:#f92672">and</span> what we<span style="color:#e6db74">&#39;ve discussed, you have to create tools and make them</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">05</span>
</span></span><span style="display:flex;"><span>available one at a time to your LLM<span style="color:#f92672">.</span> It turns out that many different teams are building similar
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">11</span>
</span></span><span style="display:flex;"><span>tools <span style="color:#f92672">and</span> having to <span style="color:#66d9ef">do</span> all this work of building functions <span style="color:#f92672">and</span> making them available to the OMs<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>But there is recently a new standard called MCP, Model Context Protocol, that<span style="color:#e6db74">&#39;s making it much</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">24</span>
</span></span><span style="display:flex;"><span>easier <span style="color:#66d9ef">for</span> developers to get access to a huge set of tools <span style="color:#66d9ef">for</span> LLMs to use<span style="color:#f92672">.</span> This is an important
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>protocol that more <span style="color:#f92672">and</span> more teams are using to develop LLM based applications<span style="color:#f92672">.</span> Let<span style="color:#e6db74">&#39;s go learn</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">37</span>
</span></span><span style="display:flex;"><span>about MCP <span style="color:#f92672">in</span> the next video<span style="color:#f92672">.</span>
</span></span></code></pre></div><h2 id="35-mcp">3.5 MCP</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>MCP, the Model Context Protocol, was a standard proposed by Anthropic but now adopted by many
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">07</span>
</span></span><span style="display:flex;"><span>other companies <span style="color:#f92672">and</span> by many developers as a way to give an LLM access to more context <span style="color:#f92672">and</span> to
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span>more tools<span style="color:#f92672">.</span> There are a lot of developers developing around the MCP ecosystem <span style="color:#f92672">and</span> so
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>learning about this will give you a lot more access to resources <span style="color:#66d9ef">for</span> your applications<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">24</span>
</span></span><span style="display:flex;"><span>Let<span style="color:#e6db74">&#39;s take a look. This is the pain points that MCP attempts to solve. If one developer is writing</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>an application that wants to integrate with data from Slack <span style="color:#f92672">and</span> Google Drive <span style="color:#f92672">and</span> GitHub <span style="color:#f92672">or</span> access
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">37</span>
</span></span><span style="display:flex;"><span>data from a Postgres database, then they might have to write code to wrap around Slack APIs
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>to have functions to provide to the application, write code to wrap around Google Drive APIs to
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">47</span>
</span></span><span style="display:flex;"><span>parse the application, <span style="color:#f92672">and</span> similarly <span style="color:#66d9ef">for</span> these other tools <span style="color:#f92672">or</span> data sources<span style="color:#f92672">.</span> Then what has been
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span>happening <span style="color:#f92672">in</span> the developer community is <span style="color:#66d9ef">if</span> a different team is building a different application,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">59</span>
</span></span><span style="display:flex;"><span>then they too will integrate by themselves with Slack <span style="color:#f92672">and</span> Google Drive <span style="color:#f92672">and</span> GitHub <span style="color:#f92672">and</span> so on<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>So many developers were all building custom wrappers around these types of data sources<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>And so <span style="color:#66d9ef">if</span> there are M applications being developed <span style="color:#f92672">and</span> there are N tools out there,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>the total amount of work done by the community was M times N<span style="color:#f92672">.</span> What MCP did was propose a standard
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">24</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> applications to get access to tools <span style="color:#f92672">and</span> data sources so that the total work that needs to be
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">29</span>
</span></span><span style="display:flex;"><span>done by the community is now M plus N rather than M times N<span style="color:#f92672">.</span> The initial design of MCP focused a lot
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">38</span>
</span></span><span style="display:flex;"><span>on how to give more context to an LLM <span style="color:#f92672">or</span> how to fetch data<span style="color:#f92672">.</span> So a lot of the initial tools were
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">44</span>
</span></span><span style="display:flex;"><span>ones that would just fetch data<span style="color:#f92672">.</span> And <span style="color:#66d9ef">if</span> you read the MCP documentation, that refers to these as
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">51</span>
</span></span><span style="display:flex;"><span>resources<span style="color:#f92672">.</span> But MCP gives access to both data as well as the more general functions that an
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">57</span>
</span></span><span style="display:flex;"><span>application may want to call<span style="color:#f92672">.</span> And it turns out that there are many MCP clients<span style="color:#f92672">.</span> These are the
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">04</span>
</span></span><span style="display:flex;"><span>applications that want access to tools <span style="color:#f92672">or</span> to data as well as service, which are often the software
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">11</span>
</span></span><span style="display:flex;"><span>wrappers that then give access to data <span style="color:#f92672">in</span> Slack <span style="color:#f92672">or</span> GitHub <span style="color:#f92672">or</span> Google Drive <span style="color:#f92672">or</span> allows you to take
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>actions at these different types of resources<span style="color:#f92672">.</span> So today there<span style="color:#e6db74">&#39;s a rapidly growing list of MCP</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">23</span>
</span></span><span style="display:flex;"><span>clients that consume the tools <span style="color:#f92672">or</span> the resources as well as MCP service that provide the tools <span style="color:#f92672">and</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span>the resources<span style="color:#f92672">.</span> And I hope that you find it useful to build your own MCP client<span style="color:#f92672">.</span> Your application
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>maybe one day will be an MCP client<span style="color:#f92672">.</span> And <span style="color:#66d9ef">if</span> you want to provide resources to other developers,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>maybe you can build your own MCP server someday<span style="color:#f92672">.</span> Let me show you a quick example of using an MCP
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">46</span>
</span></span><span style="display:flex;"><span>client<span style="color:#f92672">.</span> This is a cloud desktop app <span style="color:#f92672">and</span> it has been connected to a GitHub MCP server<span style="color:#f92672">.</span> So when
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span>I enter this query, summarize the readme<span style="color:#f92672">.</span>md from the GitHub repo at this URL, this is actually
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>an AI suite repo<span style="color:#f92672">.</span> Then this application, which is an MCP client, uses the GitHub MCP server with
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">07</span>
</span></span><span style="display:flex;"><span>the request, please get the file readme<span style="color:#f92672">.</span>md from the repo AI suite from this repo<span style="color:#f92672">.</span> And then it
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">14</span>
</span></span><span style="display:flex;"><span>gets this response, which is pretty long<span style="color:#f92672">.</span> All this is then fed back to the LLMs context <span style="color:#f92672">and</span> the LLM
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span>then generates the summary of the markdown file<span style="color:#f92672">.</span> Now let me enter another request, which is let me
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">27</span>
</span></span><span style="display:flex;"><span>enter what are the latest pull requests<span style="color:#f92672">.</span> This <span style="color:#f92672">in</span> turn causes the LLMs to use the MCP server to make
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span>a different request, to list the pull request<span style="color:#f92672">.</span> This is another <span style="color:#66d9ef">tool</span> provided by GitHub<span style="color:#e6db74">&#39;s MCP</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>server<span style="color:#f92672">.</span> And so it makes this request with repo AI suite, sort, going to update it, list <span style="color:#ae81ff">20</span>, <span style="color:#f92672">and</span> so on<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span>And then it gives this response, which is fed back to the LLM <span style="color:#f92672">and</span> the LLM then writes this nice
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span>text summary of the latest pull request <span style="color:#66d9ef">for</span> this repo<span style="color:#f92672">.</span> MCP is an important standard<span style="color:#f92672">.</span> If you want to
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">01</span>
</span></span><span style="display:flex;"><span>learn more about it, DeepLearning<span style="color:#f92672">.</span>ai also has a short course that goes much deeper into just the MCP
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">08</span>
</span></span><span style="display:flex;"><span>protocol that you can check out after finishing the course, <span style="color:#66d9ef">if</span> you<span style="color:#e6db74">&#39;re interested. I hope this</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span>video gives you a brief overview of why it<span style="color:#e6db74">&#39;s useful and also why many developers are now building to</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>this standard<span style="color:#f92672">.</span> This brings us to the last video on <span style="color:#66d9ef">tool</span> use<span style="color:#f92672">.</span> And I hope that by giving your own access
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">27</span>
</span></span><span style="display:flex;"><span>to tools, you build <span style="color:#f92672">and</span> build agentic applications that are much more powerful<span style="color:#f92672">.</span> In the next module,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>we<span style="color:#e6db74">&#39;ll talk about evaluations and error analysis. It turns out that one of the things I&#39;</span>ve seen
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>that distinguishes people that can execute agentic workflows really well versus teams that are <span style="color:#f92672">not</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">47</span>
</span></span><span style="display:flex;"><span>as efficient at it is your ability to drive a disciplined evaluation process<span style="color:#f92672">.</span> In the next
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span>set of videos, which I think is maybe the most important module of this entire course,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>I hope to share with you some of the best practices of how to use evals to drive
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">05</span>
</span></span><span style="display:flex;"><span>development of agentic workflows<span style="color:#f92672">.</span> Look forward to seeing you <span style="color:#f92672">in</span> the next module<span style="color:#f92672">.</span>
</span></span></code></pre></div>
      
    </div>
    
    
    


<div class="sibling-cards">
  
  <a class="sibling-card prev" href="/courses/andrew-ng-agentic-ai/lecture/lec-04/" aria-label="‰∏ä‰∏ÄÁØáÔºö„ÄåScripts„ÄçModule 4: Practical Tips for Building Agentic AI">
    <div class="sibling-card-arrow">‚Äπ</div>
    <div class="sibling-card-main">
      <div class="sibling-card-title">„ÄåScripts„ÄçModule 4: Practical Tips for Building Agentic AI</div>
      <div class="sibling-card-meta">
        <span class="meta-author">Han ZL</span>
         ¬∑ 
        <span class="meta-date">2025-10-17</span>
      </div>
    </div>
  </a>
  

  
  <a class="sibling-card next" href="/courses/andrew-ng-agentic-ai/lecture/lec-02/" aria-label="‰∏ã‰∏ÄÁØáÔºö„ÄåScripts„ÄçModule 2: Reflection Design Pattern">
    <div class="sibling-card-main">
      <div class="sibling-card-title">„ÄåScripts„ÄçModule 2: Reflection Design Pattern</div>
      <div class="sibling-card-meta">
        <span class="meta-author">Andrew Ng</span>
         ¬∑ 
        <span class="meta-date">2025-10-17</span>
      </div>
    </div>
    <div class="sibling-card-arrow">‚Ä∫</div>
  </a>
  
</div>


    <section class="comments" aria-label="Comments">
  <div id="giscus_thread" class="giscus"
    data-repo="Linguage/Giscus"
    data-repo-id="R_kgDOLxA-eA"
    data-category="Announcements"
    data-category-id="DIC_kwDOLxA-eM4Ce06R"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme-light="light"
    data-theme-dark="dark"
    data-lang="zh-CN">
  </div>
  <script>
    (function(){
      try{
        const el = document.getElementById('giscus_thread');
        if (!el) return;
        
        let saved = null;
        try{ const v = localStorage.getItem('theme'); if (v === 'light' || v === 'dark') saved = v; }catch(_){ saved = null; }
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const effective = saved ? saved : (prefersDark ? 'dark' : 'light');
        const theme = (effective === 'dark') ? (el.dataset.themeDark || 'dark') : (el.dataset.themeLight || 'light');
        
        el.setAttribute('data-theme', theme);
        
        const s = document.createElement('script');
        s.src = 'https://giscus.app/client.js';
        s.setAttribute('data-repo', el.dataset.repo || '');
        s.setAttribute('data-repo-id', el.dataset.repoId || '');
        s.setAttribute('data-category', el.dataset.category || 'General');
        s.setAttribute('data-category-id', el.dataset.categoryId || '');
        s.setAttribute('data-mapping', el.dataset.mapping || 'pathname');
        s.setAttribute('data-strict', String(el.dataset.strict || '0'));
        s.setAttribute('data-reactions-enabled', String(el.dataset.reactionsEnabled || '1'));
        s.setAttribute('data-emit-metadata', String(el.dataset.emitMetadata || '0'));
        s.setAttribute('data-input-position', el.dataset.inputPosition || 'bottom');
        s.setAttribute('data-theme', theme);
        s.setAttribute('data-lang', el.dataset.lang || 'zh-CN');
        s.setAttribute('crossorigin','anonymous');
        s.async = true;
        el.parentNode.insertBefore(s, el.nextSibling);
      }catch(_){   }
    })();
  </script>
</section>
  </article>

  
  
  
    
  
  
    
    <aside class="docs-toc" aria-label="On this page">
      
      <div class="toc-title">On this page</div>
      
      <nav class="toc">
        
          <nav id="TableOfContents">
  <ul>
    <li><a href="#31-what-are-tools">3.1 What are tools?</a></li>
    <li><a href="#32-creating-a-tool">3.2 Creating a tool</a></li>
    <li><a href="#33-tool-syntax">3.3 Tool syntax</a></li>
    <li><a href="#34-code-execution">3.4 Code execution</a></li>
    <li><a href="#35-mcp">3.5 MCP</a></li>
  </ul>
</nav>
            
      </nav>
      
      
    </aside>
  
</div>



<button class="back-to-top" id="backToTop" aria-label="Back to top">‚Üë</button>




  <button id="tocMiniBtn" class="toc-mini-btn" aria-controls="tocDrawer" aria-expanded="false" aria-label="ÊâìÂºÄÁõÆÂΩï">‚ò∞ ÁõÆÂΩï</button>
  <div id="tocDrawer" class="toc-drawer" hidden>
    <div class="toc-drawer-inner">
      <div class="toc-drawer-header">
        <span>ÁõÆÂΩï</span>
        <button id="tocCloseBtn" class="toc-drawer-close" aria-label="ÂÖ≥Èó≠">√ó</button>
      </div>
      <nav class="toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#31-what-are-tools">3.1 What are tools?</a></li>
    <li><a href="#32-creating-a-tool">3.2 Creating a tool</a></li>
    <li><a href="#33-tool-syntax">3.3 Tool syntax</a></li>
    <li><a href="#34-code-execution">3.4 Code execution</a></li>
    <li><a href="#35-mcp">3.5 MCP</a></li>
  </ul>
</nav>
      </nav>
    </div>
  </div>






  </main>
  
  
  
  <footer class="site-footer">
  
  <div class="container footer-inner">
    
    <div>
      
        
          ¬© 2025 Linguista
        
      
    </div>
    
    
    
    <nav class="footer-nav social-links" aria-label="Social links">
      
      
      <a class="social-icon" href="https://x.com/AztecaAlpaca" target="_blank" rel="noopener" aria-label="X / Twitter">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/X_logo.jpg/500px-X_logo.jpg" alt="X logo" loading="lazy" decoding="async" />
      </a>
      
      
      <a class="social-icon" href="https://github.com/Linguage" target="_blank" rel="noopener" aria-label="GitHub">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M12 2C6.48 2 2 6.58 2 12.26c0 4.52 2.87 8.35 6.84 9.71.5.1.68-.22.68-.49 0-.24-.01-.87-.01-1.71-2.78.62-3.37-1.37-3.37-1.37-.45-1.18-1.11-1.5-1.11-1.5-.91-.64.07-.63.07-.63 1 .07 1.53 1.05 1.53 1.05.89 1.56 2.34 1.11 2.91.85.09-.66.35-1.11.63-1.37-2.22-.26-4.56-1.14-4.56-5.07 0-1.12.39-2.03 1.03-2.74-.1-.26-.45-1.3.1-2.71 0 0 .84-.27 2.75 1.05A9.28 9.28 0 0 1 12 6.84c.85.01 1.71.12 2.51.35 1.9-1.32 2.74-1.05 2.74-1.05.55 1.41.2 2.45.1 2.71.64.71 1.03 1.62 1.03 2.74 0 3.94-2.34 4.8-4.57 5.05.36.32.68.95.68 1.92 0 1.38-.01 2.49-.01 2.83 0 .27.18.6.69.49A10.03 10.03 0 0 0 22 12.26C22 6.58 17.52 2 12 2Z" clip-rule="evenodd"/></svg>
      </a>
      
      
      <a class="social-icon" href="https://linguista.notion.site/linguista-hub" target="_blank" rel="noopener" aria-label="Notion">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Notion-logo.svg/200px-Notion-logo.svg.png?20220918151013" alt="Notion logo" loading="lazy" decoding="async" />
      </a>
      
      
      <a class="social-icon bear-badge" href="https://linguista.bearblog.dev/" target="_blank" rel="noopener" aria-label="Bear Blog  ï‚Ä¢·¥•‚Ä¢ î"> ï‚Ä¢·¥•‚Ä¢ î</a>
      
    </nav>
    
  </div>
  
</footer>

  
  
  <script src="/script.js?v=20251029-01" defer></script>
  <script defer src="/js/search-core.js?v=20251029-01"></script>
  <script>
    window.SEARCH_INDEX_URL_LITE = '\/index-lite.json?v=20251029-01';
    window.SEARCH_INDEX_URL = '\/index.json?v=20251029-01';
  </script>
  <script src="/js/search-advanced.js?v=20251029-01" defer></script>
  
  <script defer src="/js/table-7char.js?v=20251029-01"></script>
  
  <script defer src="/js/linkcard.js?v=20251029-01"></script>
  <script defer src="/js/table-tooltips.js?v=20251029-01"></script>
  <script defer src="/js/social-popup.js?v=20251029-01"></script>
  
  
  
  
  <div id="social-popup-overlay" aria-hidden="true">
  <div class="social-popup-card" role="dialog" aria-modal="true" aria-labelledby="social-popup-title" aria-describedby="social-popup-desc">
    <button class="social-popup-close" type="button" aria-label="ÂÖ≥Èó≠">√ó</button>
    <img class="social-popup-image" src="" alt="" />
    <div class="social-popup-title" id="social-popup-title"></div>
    <div class="social-popup-desc" id="social-popup-desc"></div>
  </div>
</div>

  
</body>
</html>
